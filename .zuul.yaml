---
- job:
    name: python-lint
    parent: otc-tox-pep8
    voting: false

- job:
    name: ansible-lint
    parent: otc-tox
    voting: false
    vars:
      tox_envlist: yamllint

- job:
    name: terraform-lint
    parent: simpleton
    vars:
      simple_source_image: "ubuntu:latest"
      simple_prerun:
        - sh ./scripts/prepare-terraform.sh
      simple_run:
        - sh ./scripts/terraform-lint.sh

- project:
    merge-mode: squash-merge
    check:
      jobs:
        - terraform-lint
        - python-lint
        - ansible-lint
    gate:
      jobs:
        - terraform-lint
        - python-lint
        - ansible-lint
